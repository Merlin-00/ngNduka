<main>
    @if (loadind()) {
    <h1>chargement des produits...</h1>
    }@else{
    <header>
        <h3>{{productTitle()}}</h3>
        @if (queryLimitCount() !== undefined) {
        <a [routerLink]="'/products/' + query()" class="action">
            <span>voir plus</span>
            <svg xmlns="http://www.w3.org/2000/svg" height="24px" viewBox="0 -960 960 960" width="24px">
                <path d="M647-440H160v-80h487L423-744l57-56 320 320-320 320-57-56 224-224Z" />
            </svg>
        </a>
        }
    </header>
    <div class="product-list">
        @for (product of products; track $index) {
        <a class="product-card" [routerLink]="'/product/'+ product.id">
            <img [src]="product.image">
            <div class="product-info">
                <p class="truncate">
                    {{product.title}}
                </p>
                <p>
                    <b>$ {{product.price}}</b>
                </p>
            </div>
        </a>
        }@empty {
        <p align="center">
            Oups! Aucun produit trouvé <br>
            vérifier votre connexion internet.
        </p>
        }
    </div>
    }

</main>